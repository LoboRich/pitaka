%link{:href => "https://cdn.datatables.net/1.10.24/css/jquery.dataTables.min.css", :rel => "stylesheet"}
%link{:href => "https://cdn.datatables.net/responsive/2.2.7/css/responsive.dataTables.min.css", :rel => "stylesheet"}
%link{:href => "https://cdn.datatables.net/buttons/1.7.0/css/buttons.dataTables.min.css", :rel => "stylesheet"}
%script{:src => "https://code.jquery.com/jquery-3.5.1.js", :type => "text/javascript"}
%script{:src => "https://cdn.datatables.net/1.10.24/js/jquery.dataTables.min.js", :type => "text/javascript"}
%script{:src => "https://cdn.datatables.net/responsive/2.2.7/js/dataTables.responsive.min.js", :type => "text/javascript"}
%script{:src => "https://cdn.datatables.net/buttons/1.7.0/js/dataTables.buttons.min.js", :type => "text/javascript"}
%script{:src => "https://cdn.datatables.net/buttons/1.7.0/js/buttons.colVis.min.js", :type => "text/javascript"}

%table.table.table-bordered.table-hover.dt-responsive
  %thead
    %tr
      %th Account
      %th Description
      %th Date
      %th
      %th
      %th

  %tbody
    - @logs.each do |log|
      %tr
        %td= log.account_id
        %td= log.description
        %td= log.created_at.strftime("%m/%d/%Y %I:%M%p")
        %td= link_to 'Show', log
        %td= link_to 'Edit', edit_log_path(log)
        %td= link_to 'Destroy', log, :method => :delete, :data => { :confirm => 'Are you sure?' }

:javascript 
  $(document).ready(function() {
    var dataTable = $('table').DataTable();

    document.addEventListener("turbolinks:before-cache", function() {
      if (dataTable !== null) {
       dataTable.destroy();
       dataTable = null;
      }
    });
  } );


